(()=>{"use strict";const t={easeInOutQuad:(t,e,o,n)=>(t/=n/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e,easeInCubic:(t,e,o,n)=>e+o*((t/=n)*t*t),inOutQuintic(t,e,o,n){const s=(t/=n)*t,i=s*t;return e+o*(6*i*s+-15*s*s+10*i)}};class e{constructor(t,e){this.container=t,this.normalScrollElementIDs=e,this.sections=this.getContainerChildrenIDs(),this.appendScrollbarStyles()}appendScrollbarStyles(){const t=document.createElement("style");t.innerHTML="\n\t\t\t.custom-snap--no-scrollbar {\n\t\t\t\t-ms-overflow-style: none;\n\t\t\t\tscrollbar-width: none;  \n\t\t\t}\n\n\t\t\t.custom-snap--no-scrollbar::webkit-scrollbar {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t",document.head.appendChild(t)}getContainerChildrenIDs(){return Array.from(this.container.children).map((t=>t.id))}preventDefault(t){t.preventDefault()}showScrollbar(){document.documentElement.classList.remove("custom-snap--no-scrollbar"),document.body.classList.remove("custom-snap--no-scrollbar")}hideScrollbar(){document.documentElement.classList.add("custom-snap--no-scrollbar"),document.body.classList.add("custom-snap--no-scrollbar")}isSectionNormal(t){return this.normalScrollElementIDs.includes(this.sections[t])}canScrollToBottom(t){return t<this.sections.length-1}canScrollToTop(t){return t>=1}getSectionByIndex(t){return document.getElementById(this.sections[t])}disableScroll(){window.addEventListener("wheel",this.preventDefault,{passive:!1}),window.addEventListener("touchstart",this.preventDefault,{passive:!1})}enableScroll(){return window.removeEventListener("wheel",this.preventDefault),window.removeEventListener("touchstart",this.preventDefault),document.onkeydown=null}scrollTo(e,o=1e3,n){const s=window.scrollY,i=e-s,r=performance.now();return new Promise((l=>{const c=a=>{const h=a-r,d=t[n](h,s,i,o);if(document.documentElement.scrollTop=d,document.body.scrollTop=d,h<o)return requestAnimationFrame(c);window.scrollY<e?window.scrollBy(0,e-window.scrollY):window.scrollY>e&&window.scrollBy(0,-1*(window.scrollY-e)),l(void 0)};requestAnimationFrame(c)}))}}const o=document.querySelectorAll('input[name="easing_preset"]'),n=document.querySelector('input[name="snap_duration"]'),s=document.querySelector(".snap-duration-label"),i=new class{constructor(t){if(this.isRegistered=!1,this.isAnimating=!1,this.lastScrollPosition=0,this.currentSectionIndex=0,this.scrollDirection="",null==t)throw new Error("custom-snap: Please provide a valid options object.");const{containerID:o,hideScrollbar:n=!1,normalScrollElementIDs:s=[],snapDuration:i=1e3,easingPreset:r="easeInOutQuad",afterSnap:l=(()=>{}),beforeSnap:c=(()=>{})}=t;this.container=document.getElementById(o),this.snapDuration=i,this.setEasingPreset(r),this.scrollUtils=new e(this.container,s),this.afterSnap=l,this.beforeSnap=c,this.onScroll=this.onScroll.bind(this),n&&this.hideScrollbar()}calculateScrollDirection(){let t="";window.scrollY-this.lastScrollPosition>3?t="top-to-bottom":window.scrollY-this.lastScrollPosition<-3&&(t="bottom-to-top"),this.scrollDirection=t}onScroll(){if(!this.isAnimating)if(this.calculateScrollDirection(),this.lastScrollPosition=window.scrollY,this.scrollUtils.isSectionNormal(this.currentSectionIndex)){const t=this.scrollUtils.getSectionByIndex(this.currentSectionIndex),e=window.scrollY+window.innerHeight-(t.offsetTop+t.offsetHeight)>2,o=window.scrollY-t.offsetTop<-2;e&&"top-to-bottom"==this.scrollDirection&&this.scrollUtils.canScrollToBottom(this.currentSectionIndex)?this.scrollToSectionByIndex(this.currentSectionIndex+1,this.snapDuration):o&&"bottom-to-top"==this.scrollDirection&&this.scrollUtils.canScrollToTop(this.currentSectionIndex)&&this.scrollToSectionByIndex(this.currentSectionIndex-1,this.snapDuration)}else"top-to-bottom"==this.scrollDirection&&this.scrollUtils.canScrollToBottom(this.currentSectionIndex)?this.scrollToSectionByIndex(this.currentSectionIndex+1,this.snapDuration):"bottom-to-top"==this.scrollDirection&&this.scrollUtils.canScrollToTop(this.currentSectionIndex)&&this.scrollToSectionByIndex(this.currentSectionIndex-1,this.snapDuration)}setEasingPreset(e){Object.prototype.hasOwnProperty.call(t,e)?this.easingPreset=e:(console.error(`Custom Snap: Easing preset ${e} is invalid. Falling back to the default preset.`),this.easingPreset="easeInOutQuad")}setSnapDuration(t=1e3){this.snapDuration=t}getScrollDirection(){return this.scrollDirection}hideScrollbar(){this.scrollUtils.hideScrollbar()}showScrollbar(){this.scrollUtils.showScrollbar()}scrollToSectionByIndex(t,e=1e3){this.beforeSnap(this.currentSectionIndex,this.scrollUtils.getSectionByIndex(this.currentSectionIndex)),this.currentSectionIndex=t;const o=this.scrollUtils.getSectionByIndex(t).offsetTop;this.lastScrollPosition=o,this.isAnimating=!0,this.scrollUtils.disableScroll(),this.scrollUtils.scrollTo(o,e,this.easingPreset).then((()=>{this.isAnimating=!1,this.scrollUtils.enableScroll(),this.afterSnap(this.currentSectionIndex,this.scrollUtils.getSectionByIndex(this.currentSectionIndex))}))}register(){if(this.isRegistered)throw new Error("custom-snap: Scroll event listener is already registered.");this.isRegistered=!0,this.scrollToSectionByIndex(0),window.addEventListener("scroll",this.onScroll)}unregister(){if(!this.isRegistered)throw new Error("custom-snap: Trying to unregister an event listener that is already unregistered.");this.isRegistered=!1,window.removeEventListener("scroll",this.onScroll)}}({containerID:"container",normalScrollElementIDs:["c","e"]});i.register();const r=t=>{const e=t.target.value;i.setEasingPreset(e)};o.forEach((t=>t.addEventListener("change",r))),n.addEventListener("input",(t=>{const e=t.target.value;i.setSnapDuration(e),s.textContent=`${e}ms`}))})();