var p=Object.defineProperty;var m=(o,e,n)=>e in o?p(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var i=(o,e,n)=>(m(o,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const w={easeInOutQuad(o,e,n,r){return o/=r/2,o<1?n/2*o*o+e:(o--,-n/2*(o*(o-2)-1)+e)},easeInCubic(o,e,n,r){const t=(o/=r)*o*o;return e+n*t},inOutQuintic(o,e,n,r){const t=(o/=r)*o,s=t*o;return e+n*(6*s*t+-15*t*t+10*s)}};class S{constructor({container:e,hideScrollbar:n=!1,snapDuration:r=1e3,easing:t="easeInOutQuad",afterSnap:s=()=>{},beforeSnap:c=()=>{}}){i(this,"sections");i(this,"isRegistered",!1);i(this,"scrollLock",!1);i(this,"lastScrollPosition",0);i(this,"currentSectionIndex",0);i(this,"snapDuration",1e3);i(this,"easing");i(this,"scrollDirection","");i(this,"afterSnap");i(this,"beforeSnap");this.snapDuration=r,this.easing=t,this.afterSnap=s,this.beforeSnap=c,this.sections=Array.from(e.children).map(l=>l),n&&this.hideScrollbar(),this.onScroll=this.onScroll.bind(this)}calculateScrollDirection(){let n="";window.scrollY-this.lastScrollPosition>3?n="top-to-bottom":window.scrollY-this.lastScrollPosition<-3&&(n="bottom-to-top"),this.scrollDirection=n}onScroll(){if(this.scrollLock)return;this.calculateScrollDirection(),this.lastScrollPosition=window.scrollY;const e=this.sections[this.currentSectionIndex];if(!e)return;const n=window.scrollY+window.innerHeight>e.offsetTop+e.offsetHeight-2,r=window.scrollY-e.offsetTop<-2;n&&this.scrollDirection=="top-to-bottom"&&this.currentSectionIndex<this.sections.length-1?this.scrollToSectionByIndex(this.currentSectionIndex+1):r&&this.scrollDirection=="bottom-to-top"&&this.currentSectionIndex>=1&&this.scrollToSectionByIndex(this.currentSectionIndex-1)}scrollTo(e,n=1e3,r){this.disableScroll();const t=window.scrollY,s=e-t,c=performance.now();return new Promise(l=>{const u=f=>{const d=f-c,h=w[r](d,t,s,n);if(document.documentElement.scrollTop=h,document.body.scrollTop=h,d<n)return requestAnimationFrame(u);window.scrollY<e?window.scrollBy(0,e-window.scrollY):window.scrollY>e&&window.scrollBy(0,-1*(window.scrollY-e)),l(void 0),this.enableScroll()};requestAnimationFrame(u)})}preventDefault(e){e.preventDefault()}disableScroll(){this.scrollLock=!0,window.addEventListener("wheel",this.preventDefault,{passive:!1}),window.addEventListener("touchstart",this.preventDefault,{passive:!1})}enableScroll(){return this.scrollLock=!1,window.removeEventListener("wheel",this.preventDefault),window.removeEventListener("touchstart",this.preventDefault),document.onkeydown=null}getScrollDirection(){return this.scrollDirection}setSnapDuration(e){if(e<=0)throw new Error("custom-snap: Snap duration must be greater than 0.");this.snapDuration=e}setEasing(e){this.easing=e}hideScrollbar(){document.documentElement.classList.add("custom-snap--no-scrollbar"),document.body.classList.add("custom-snap--no-scrollbar")}showScrollbar(){document.documentElement.classList.remove("custom-snap--no-scrollbar"),document.body.classList.remove("custom-snap--no-scrollbar")}async scrollToSectionByIndex(e,n=this.snapDuration){const r=this.sections[e];if(!r)return;this.beforeSnap(this.currentSectionIndex,this.sections[this.currentSectionIndex]),this.currentSectionIndex=e;const t=this.scrollDirection=="top-to-bottom"?r.offsetTop:window.scrollY-window.innerHeight;this.lastScrollPosition=t,await this.scrollTo(t,n,this.easing),this.afterSnap(this.currentSectionIndex,this.sections[this.currentSectionIndex])}register(){if(this.isRegistered)throw new Error("custom-snap: Scroll event listener is already registered.");this.isRegistered=!0,this.scrollToSectionByIndex(0,1e3),window.addEventListener("scroll",this.onScroll)}unregister(){if(!this.isRegistered)throw new Error("custom-snap: Trying to unregister an event listener that is already unregistered.");this.isRegistered=!1,window.removeEventListener("scroll",this.onScroll)}}const g=document.querySelectorAll('input[name="easing_preset"]'),b=document.querySelector('input[name="snap_duration"]'),v=document.querySelector(".snap-duration-label"),a=new S({container:document.querySelector("#container")});a.register();g.forEach(o=>o.addEventListener("change",e=>{const n=e.target.value;a.setEasing(n)}));b.addEventListener("input",o=>{const e=o.target.value;a.setSnapDuration(e),v.textContent=`${e}ms`});
