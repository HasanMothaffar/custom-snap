var m=Object.defineProperty;var p=(n,e,o)=>e in n?m(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var i=(n,e,o)=>(p(n,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const S={easeInOutQuad(n,e,o,r){return n/=r/2,n<1?o/2*n*n+e:(n--,-o/2*(n*(n-2)-1)+e)},easeInCubic(n,e,o,r){const t=(n/=r)*n*n;return e+o*t},inOutQuintic(n,e,o,r){const t=(n/=r)*n,s=t*n;return e+o*(6*s*t+-15*t*t+10*s)}};class w{constructor({container:e,hideScrollbar:o=!1,snapDuration:r=1e3,easing:t="easeInOutQuad",afterSnap:s=()=>{},beforeSnap:c=()=>{}}){i(this,"sections");i(this,"isRegistered",!1);i(this,"scrollLock",!1);i(this,"lastScrollPosition",0);i(this,"currentSectionIndex",0);i(this,"snapDuration",1e3);i(this,"easing");i(this,"scrollDirection","");i(this,"afterSnap");i(this,"beforeSnap");i(this,"scrollEvents",["wheel","touchmove","pointermove"]);this.snapDuration=r,this.easing=t,this.afterSnap=s,this.beforeSnap=c,this.sections=Array.from(e.children).map(l=>l),o&&this.hideScrollbar(),this.onScroll=this.onScroll.bind(this)}calculateScrollDirection(){let o="";window.scrollY-this.lastScrollPosition>3?o="top-to-bottom":window.scrollY-this.lastScrollPosition<-3&&(o="bottom-to-top"),this.scrollDirection=o}onScroll(){if(this.scrollLock)return;this.calculateScrollDirection(),this.lastScrollPosition=window.scrollY;const e=this.sections[this.currentSectionIndex];if(!e)return;const o=window.scrollY+window.innerHeight>e.offsetTop+e.offsetHeight-2,r=window.scrollY-e.offsetTop<-2;o&&this.scrollDirection=="top-to-bottom"&&this.currentSectionIndex<this.sections.length-1?this.scrollToSectionByIndex(this.currentSectionIndex+1):r&&this.scrollDirection=="bottom-to-top"&&this.currentSectionIndex>=1&&this.scrollToSectionByIndex(this.currentSectionIndex-1)}scrollTo(e,o=1e3,r){this.disableScroll();const t=window.scrollY,s=e-t,c=performance.now();return new Promise(l=>{const u=f=>{const d=f-c,h=S[r](d,t,s,o);if(document.documentElement.scrollTop=h,document.body.scrollTop=h,d<o)return requestAnimationFrame(u);window.scrollY<e?window.scrollBy(0,e-window.scrollY):window.scrollY>e&&window.scrollBy(0,-1*(window.scrollY-e)),l(void 0),this.enableScroll()};requestAnimationFrame(u)})}preventDefault(e){e.preventDefault()}disableScroll(){this.scrollLock=!0,this.scrollEvents.forEach(e=>window.addEventListener(e,this.preventDefault,{passive:!1}))}enableScroll(){this.scrollLock=!1,this.scrollEvents.forEach(e=>window.removeEventListener(e,this.preventDefault))}getScrollDirection(){return this.scrollDirection}setSnapDuration(e){if(e<=0)throw new Error("custom-snap: Snap duration must be greater than 0.");this.snapDuration=e}setEasing(e){this.easing=e}hideScrollbar(){document.documentElement.classList.add("custom-snap--no-scrollbar"),document.body.classList.add("custom-snap--no-scrollbar")}showScrollbar(){document.documentElement.classList.remove("custom-snap--no-scrollbar"),document.body.classList.remove("custom-snap--no-scrollbar")}async scrollToSectionByIndex(e,o=this.snapDuration){const r=this.sections[e];if(!r)return;this.beforeSnap(this.currentSectionIndex,this.sections[this.currentSectionIndex]),this.currentSectionIndex=e;const t=this.scrollDirection=="top-to-bottom"?r.offsetTop:window.scrollY-window.innerHeight;this.lastScrollPosition=t,await this.scrollTo(t,o,this.easing),this.afterSnap(this.currentSectionIndex,this.sections[this.currentSectionIndex])}register(){if(this.isRegistered)throw new Error("custom-snap: Scroll event listener is already registered.");this.isRegistered=!0,this.scrollToSectionByIndex(0,1e3),window.addEventListener("scroll",this.onScroll)}unregister(){if(!this.isRegistered)throw new Error("custom-snap: Trying to unregister an event listener that is already unregistered.");this.isRegistered=!1,window.removeEventListener("scroll",this.onScroll)}}const g=document.querySelectorAll('input[name="easing_preset"]'),b=document.querySelector('input[name="snap_duration"]'),v=document.querySelector(".snap-duration-label"),a=new w({container:document.querySelector("#container")});a.register();g.forEach(n=>n.addEventListener("change",e=>{const o=e.target.value;a.setEasing(o)}));b.addEventListener("input",n=>{const e=n.target.value;a.setSnapDuration(e),v.textContent=`${e}ms`});
